sudo hostnamectl set-hostname "master1.dev.ops"
exec bash


# Add the following entries in /etc/hosts file on each node

192.168.77.121  master1.dev.ops
192.168.77.122  worker1.dev.ops
192.168.77.123  worker2.dev.ops

# Disable swap & Add kernel Parameters

sudo swapoff -a
sudo sed -i '/ swap / s/^\(.*\)$/#\1/g' /etc/fstab

#Load the following kernel modules on all the nodes,

$ sudo tee /etc/modules-load.d/containerd.conf <<EOF
overlay
br_netfilter
EOF
$ sudo modprobe overlay
$ sudo modprobe br_netfilter


# Set the following Kernel parameters for Kubernetes, run beneath tee command

$ sudo tee /etc/sysctl.d/kubernetes.conf <<EOF
net.bridge.bridge-nf-call-ip6tables = 1
net.bridge.bridge-nf-call-iptables = 1
net.ipv4.ip_forward = 1
EOF 

# Reload the above changes, run

$ sudo sysctl --system
